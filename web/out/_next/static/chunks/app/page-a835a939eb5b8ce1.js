(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[931],{4561:function(e,t,a){Promise.resolve().then(a.bind(a,6774))},6774:function(e,t,a){"use strict";a.r(t),a.d(t,{default:function(){return E}});var s=a(7437),l=a(7138),r=a(2265),i=a(6264);let n=[{id:"vehicles",label:"Ara\xe7lar"},{id:"vehicle-create",label:"Ara\xe7 Ekle"},{id:"assignments",label:"Zimmetler"},{id:"damages",label:"Hasarlar"},{id:"expenses",label:"Masraflar"},{id:"documents",label:"Belgeler"}],d=[{value:"inspection",label:"Muayene"},{value:"k_document",label:"K Belgesi"},{value:"traffic_insurance",label:"Trafik Sigortası"},{value:"kasko",label:"Kasko"},{value:"service_oil",label:"Yağ Bakımı"},{value:"service_general",label:"Periyodik Bakım"}],o={inspection:"Muayene",k_document:"K Belgesi",traffic_insurance:"Trafik Sigortası",kasko:"Kasko",service_oil:"Yağ Bakımı",service_general:"Periyodik Bakım"},c=e=>{var t,a;if(!e)return"";let s=e.toLowerCase();return null!==(a=null!==(t=o[s])&&void 0!==t?t:o[s.replace(/-/g,"_")])&&void 0!==a?a:s.replace(/_/g," ")},x=["Hafif","Orta","Ağır"],m=["Bakım","Onarım","Sigorta","Vergi","Yakıt","Diğer"],u={critical:"Kritik",warning:"Yaklaşıyor",ok:"Uygun",expired:"S\xfcresi Dolmuş"},p="hys-fleet-admin-password",h=e=>null!==e&&n.some(t=>t.id===e),b=e=>{switch(e){case"critical":return"bg-rose-600/80 border-rose-300/60";case"warning":return"bg-amber-600/80 border-amber-300/60";case"ok":return"bg-emerald-600/80 border-emerald-300/60";case"expired":return"bg-rose-900/80 border-rose-400/60";default:return"bg-slate-800/80 border-slate-600/60"}},g=e=>{switch(e){case"critical":return"border-rose-400/50 bg-rose-500/20 text-rose-100";case"warning":return"border-amber-400/50 bg-amber-500/20 text-amber-100";case"ok":return"border-emerald-400/50 bg-emerald-500/20 text-emerald-100";case"expired":return"border-slate-500/50 bg-slate-600/30 text-slate-100";default:return"border-slate-600/60 bg-slate-700/40 text-slate-200"}},f=e=>null==e?"-":e<0?"".concat(Math.abs(e)," g\xfcn ge\xe7ti"):0===e?"Bug\xfcn":"".concat(e," g\xfcn kaldı"),y=e=>new Intl.NumberFormat("tr-TR",{style:"currency",currency:"TRY",maximumFractionDigits:0}).format(e),v=e=>{if(!e)return"-";let t=new Date(e);return Number.isNaN(t.getTime())?"-":t.toLocaleDateString("tr-TR")},j=e=>null==e?"":e>=1048576?"".concat((e/1048576).toFixed(1)," MB"):e>=1024?"".concat(Math.round(e/1024)," KB"):"".concat(e," B"),N=e=>{if(!e)return null;let t=new Date(e);if(Number.isNaN(t.getTime()))return null;let a=new Date;return a.setHours(0,0,0,0),t.setHours(0,0,0,0),Math.round((t.getTime()-a.getTime())/864e5)},k=e=>{let t=N(e);return null===t?{label:"Teslim tarihi belirtilmedi",badgeClass:"border-slate-500/50 bg-slate-600/30 text-slate-100",cardClass:"border-slate-700/70 bg-slate-900/70"}:t<0?{label:"Gecikmiş (".concat(Math.abs(t)," g\xfcn)"),badgeClass:"border-rose-400/60 bg-rose-500/20 text-rose-100",cardClass:"border-rose-500/50 bg-rose-950/40"}:0===t?{label:"Teslim tarihi bug\xfcn",badgeClass:"border-amber-400/60 bg-amber-500/20 text-amber-100",cardClass:"border-amber-400/40 bg-amber-900/40"}:t<=7?{label:"Yaklaşıyor (".concat(t," g\xfcn)"),badgeClass:"border-amber-400/60 bg-amber-500/20 text-amber-100",cardClass:"border-amber-400/40 bg-amber-900/40"}:{label:"Planlı (".concat(t," g\xfcn)"),badgeClass:"border-emerald-400/60 bg-emerald-500/20 text-emerald-100",cardClass:"border-emerald-500/30 bg-emerald-950/40"}},w=e=>{if(!e)return"";if(e.length>=10)return e.slice(0,10);let t=new Date(e);return Number.isNaN(t.getTime())?"":t.toISOString().slice(0,10)},_=()=>({plate:"",personName:"",personTitle:"",assignmentDate:new Date().toISOString().split("T")[0],expectedReturnDate:"",description:"",files:[]}),S=e=>{var t,a;return e?{plate:e.plate,personName:e.personName,personTitle:null!==(t=e.personTitle)&&void 0!==t?t:"",assignmentDate:w(e.assignmentDate)||new Date().toISOString().slice(0,10),expectedReturnDate:w(e.expectedReturnDate),description:null!==(a=e.description)&&void 0!==a?a:"",files:[]}:_()},D=e=>new Promise((t,a)=>{let s=new FileReader;s.onload=()=>t(String(s.result)),s.onerror=()=>a(s.error),s.readAsDataURL(e)}),C=(e,t)=>"data:".concat(null!=e?e:"application/octet-stream",";base64,").concat(t),T=e=>{var t,a,s,l,r;let i=x.includes(e.severity)?e.severity:"Hafif";return{id:e.id,plate:e.plate,title:e.title,description:null!==(t=e.description)&&void 0!==t?t:"",severity:i,occurredAt:null!==(s=null!==(a=e.occurred_at)&&void 0!==a?a:e.created_at)&&void 0!==s?s:new Date().toISOString(),createdAt:null!==(r=null!==(l=e.created_at)&&void 0!==l?l:e.occurred_at)&&void 0!==r?r:new Date().toISOString(),attachments:e.attachments.map(e=>{var t,a;return{id:e.id,name:e.file_name,mimeType:null!==(t=e.mime_type)&&void 0!==t?t:null,preview:C(e.mime_type,e.content_base64),size:null!==(a=e.size_bytes)&&void 0!==a?a:null}})}},A=e=>{var t,a,s,l,r,i;return{id:e.id,plate:e.plate,category:e.category,amount:"number"==typeof e.amount?e.amount:Number(null!==(t=e.amount)&&void 0!==t?t:0),description:null!==(a=e.description)&&void 0!==a?a:"",createdAt:null!==(l=null!==(s=e.created_at)&&void 0!==s?s:e.expense_date)&&void 0!==l?l:new Date().toISOString(),expenseDate:null!==(i=null!==(r=e.expense_date)&&void 0!==r?r:e.created_at)&&void 0!==i?i:new Date().toISOString(),attachments:e.attachments.map(e=>{var t,a;return{id:e.id,name:e.file_name,mimeType:null!==(t=e.mime_type)&&void 0!==t?t:null,preview:C(e.mime_type,e.content_base64),size:null!==(a=e.size_bytes)&&void 0!==a?a:null}})}},B=e=>{var t,a,s,l,r,i,n;return{id:e.id,plate:e.plate,personName:e.person_name,personTitle:null!==(t=e.person_title)&&void 0!==t?t:null,assignmentDate:null!==(s=null!==(a=e.assignment_date)&&void 0!==a?a:e.created_at)&&void 0!==s?s:new Date().toISOString(),expectedReturnDate:null!==(l=e.expected_return_date)&&void 0!==l?l:null,description:null!==(r=e.description)&&void 0!==r?r:"",createdAt:null!==(n=null!==(i=e.created_at)&&void 0!==i?i:e.assignment_date)&&void 0!==n?n:new Date().toISOString(),attachments:e.attachments.map(e=>{var t,a;return{id:e.id,name:e.file_name,mimeType:null!==(t=e.mime_type)&&void 0!==t?t:null,preview:C(e.mime_type,e.content_base64),size:null!==(a=e.size_bytes)&&void 0!==a?a:null}})}},P=async e=>{var t;if((null!==(t=e.headers.get("content-type"))&&void 0!==t?t:"").includes("application/json"))try{let t=await e.json();if("string"==typeof(null==t?void 0:t.detail))return t.detail;if("string"==typeof(null==t?void 0:t.error))return t.error;if("string"==typeof(null==t?void 0:t.message))return t.message;return JSON.stringify(t)}catch(t){return e.statusText||"HTTP ".concat(e.status)}try{let t=await e.text();if(t)return t}catch(e){}return e.statusText||"HTTP ".concat(e.status)},z=function(e,t){let a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:3500;e(t),setTimeout(()=>e(null),a)};function E(){var e,t,a,o;let[N,w]=(0,r.useState)([]),[C,E]=(0,r.useState)(!0),[Y,K]=(0,r.useState)(null),[R,O]=(0,r.useState)([]),[M,I]=(0,r.useState)(!0),[F,H]=(0,r.useState)(null),[L,Z]=(0,r.useState)("vehicles"),[J,U]=(0,r.useState)(""),[G,$]=(0,r.useState)({plate:"",make:"",model:"",year:"",responsible_email:""}),[W,V]=(0,r.useState)(!1),[X,q]=(0,r.useState)(null),[Q,ee]=(0,r.useState)(null),[et,ea]=(0,r.useState)({vehicleId:"",doc_type:null!==(a=null===(e=d[0])||void 0===e?void 0:e.value)&&void 0!==a?a:"inspection",valid_from:"",valid_to:"",note:""}),[es,el]=(0,r.useState)(!1),[er,ei]=(0,r.useState)(null),[en,ed]=(0,r.useState)(null),[eo,ec]=(0,r.useState)({vehicleId:"",doc_type:null!==(o=null===(t=d[0])||void 0===t?void 0:t.value)&&void 0!==o?o:"inspection",valid_from:"",valid_to:"",note:""}),[ex,em]=(0,r.useState)(!1),[eu,ep]=(0,r.useState)(null),[eh,eb]=(0,r.useState)(null),[eg,ef]=(0,r.useState)(()=>_()),[ey,ev]=(0,r.useState)([]),[ej,eN]=(0,r.useState)(null),[ek,ew]=(0,r.useState)(null),[e_,eS]=(0,r.useState)(!1),[eD,eC]=(0,r.useState)(()=>Date.now()),[eT,eA]=(0,r.useState)(!0),[eB,eP]=(0,r.useState)(null),[ez,eE]=(0,r.useState)(!1),[eY,eK]=(0,r.useState)(null),[eR,eO]=(0,r.useState)(!1),[eM,eI]=(0,r.useState)(()=>_()),[eF,eH]=(0,r.useState)(()=>Date.now()),[eL,eZ]=(0,r.useState)(null),[eJ,eU]=(0,r.useState)(null),[eG,e$]=(0,r.useState)(!1),[eW,eV]=(0,r.useState)(null),[eX,eq]=(0,r.useState)(()=>({plate:"",title:"",description:"",severity:"Hafif",occurredAt:new Date().toISOString().split("T")[0],files:[]})),[eQ,e0]=(0,r.useState)([]),[e2,e4]=(0,r.useState)(null),[e3,e5]=(0,r.useState)(null),[e1,e7]=(0,r.useState)(!1),[e9,e6]=(0,r.useState)(()=>Date.now()),[e8,te]=(0,r.useState)(!0),[tt,ta]=(0,r.useState)(null),[ts,tl]=(0,r.useState)(()=>({plate:"",category:m[0],amount:"",description:"",createdAt:new Date().toISOString().split("T")[0],files:[]})),[tr,ti]=(0,r.useState)([]),[tn,td]=(0,r.useState)(null),[to,tc]=(0,r.useState)(null),[tx,tm]=(0,r.useState)(!1),[tu,tp]=(0,r.useState)(()=>Date.now()),[th,tb]=(0,r.useState)(!0),[tg,tf]=(0,r.useState)(null);(0,r.useEffect)(()=>{let e=window.localStorage.getItem(p);e&&e.trim()&&U(e.trim())},[]),(0,r.useEffect)(()=>{window.localStorage.setItem(p,J)},[J]),(0,r.useEffect)(()=>{let e=()=>{let e=new URLSearchParams(window.location.search).get("tab");Z(h(e)?e:"vehicles")};return e(),window.addEventListener("popstate",e),()=>window.removeEventListener("popstate",e)},[]);let ty=e=>{Z(e);let t=new URL(window.location.href);"vehicles"===e?t.searchParams.delete("tab"):t.searchParams.set("tab",e),window.history.replaceState(null,"",t.toString())},tv=(0,r.useCallback)(async()=>{E(!0);try{let e=await fetch((0,i.J)("/api/documents/upcoming?days=60"));if(!e.ok)throw Error(await P(e));let t=await e.json();w(t.map(e=>({...e,days_left:null!==e.days_left?Number(e.days_left):null}))),K(null)}catch(e){console.error(e),K(e.message||"Belgeler \xe7ekilirken hata oluştu")}finally{E(!1)}},[]),tj=(0,r.useCallback)(async()=>{I(!0);try{let e=await fetch((0,i.J)("/api/vehicles"));if(!e.ok)throw Error(await P(e));let t=await e.json();O(t),H(null)}catch(e){console.error(e),H(e.message||"Ara\xe7lar \xe7ekilirken hata oluştu")}finally{I(!1)}},[]),tN=(0,r.useCallback)(async()=>{eA(!0);try{let e=await fetch((0,i.J)("/api/assignments"));if(!e.ok)throw Error(await P(e));let t=await e.json();ev(t.map(B)),eP(null)}catch(e){console.error(e),eP(e.message||"Zimmet kayıtları \xe7ekilirken hata oluştu")}finally{eA(!1)}},[]),tk=(0,r.useCallback)(async()=>{te(!0);try{let e=await fetch((0,i.J)("/api/damages"));if(!e.ok)throw Error(await P(e));let t=await e.json();e0(t.map(T)),ta(null)}catch(e){console.error(e),ta(e.message||"Hasar kayıtları \xe7ekilirken hata oluştu")}finally{te(!1)}},[]),tw=(0,r.useCallback)(async()=>{tb(!0);try{let e=await fetch((0,i.J)("/api/expenses"));if(!e.ok)throw Error(await P(e));let t=await e.json();ti(t.map(A)),tf(null)}catch(e){console.error(e),tf(e.message||"Masraf kayıtları \xe7ekilirken hata oluştu")}finally{tb(!1)}},[]);(0,r.useEffect)(()=>{tv()},[tv]),(0,r.useEffect)(()=>{tj()},[tj]),(0,r.useEffect)(()=>{tN()},[tN]),(0,r.useEffect)(()=>{tk()},[tk]),(0,r.useEffect)(()=>{tw()},[tw]),(0,r.useEffect)(()=>{if(!eW)return;let e=e=>{"Escape"===e.key&&eV(null)};return window.addEventListener("keydown",e),()=>window.removeEventListener("keydown",e)},[eW]);let t_=(0,r.useMemo)(()=>{let e=new Map;return N.forEach(t=>{var a;let s=null!==(a=e.get(t.plate))&&void 0!==a?a:{latestStatus:t.status,nextDocument:void 0,documents:[]};s.documents.push(t);let l=s.nextDocument;if(l){let e=new Date(l.valid_to).getTime();new Date(t.valid_to).getTime()<e&&(s.nextDocument=t)}else s.nextDocument=t;let r=["critical","expired","warning","ok"],i=r.indexOf(s.latestStatus),n=r.indexOf(t.status);-1!==n&&(-1===i||n<i)&&(s.latestStatus=t.status),e.set(t.plate,s)}),Array.from(e.entries()).map(e=>{let[t,a]=e;return{plate:t,latestStatus:a.latestStatus,nextDocument:a.nextDocument,documents:a.documents}}).sort((e,t)=>e.plate.localeCompare(t.plate,"tr"))},[N]),tS=async e=>{if(e.preventDefault(),q(null),!J.trim()){q("Y\xf6netici şifresi gerekli.");return}if(!G.plate.trim()){q("Plaka alanı zorunlu.");return}V(!0);try{let e={plate:G.plate.trim().toUpperCase(),make:G.make.trim()||null,model:G.model.trim()||null,year:G.year.trim()?Number(G.year.trim()):null,responsible_email:G.responsible_email.trim()||null,admin_password:J.trim()},t=await fetch((0,i.J)("/api/vehicles"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)});if(!t.ok)throw Error(await P(t));$({plate:"",make:"",model:"",year:"",responsible_email:""}),z(ee,"Ara\xe7 kaydedildi"),await tj()}catch(e){console.error(e),q(e.message||"Ara\xe7 kaydedilemedi")}finally{V(!1)}},tD=async(e,t,a,s,l,r)=>{if(e.preventDefault(),s(null),!J.trim()){s("Y\xf6netici şifresi gerekli.");return}if(!t.vehicleId){s("Ara\xe7 se\xe7melisiniz.");return}if(!t.valid_to){s("Bitiş tarihini giriniz.");return}a(!0);try{let e={vehicle_id:Number(t.vehicleId),doc_type:t.doc_type,valid_from:t.valid_from||null,valid_to:t.valid_to,note:t.note.trim()||null,admin_password:J.trim()},a=await fetch((0,i.J)("/api/documents"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)});if(!a.ok)throw Error(await P(a));r(),z(l,"Belge kaydedildi"),await tv(),await tj()}catch(e){console.error(e),s(e.message||"Belge kaydedilemedi")}finally{a(!1)}},tC=e=>{ef(t=>{let a=t.files.filter((t,a)=>a!==e);return{...t,files:a}}),eC(Date.now())},tT=e=>{eI(t=>{let a=t.files.filter((t,a)=>a!==e);return{...t,files:a}}),eH(Date.now())},tA=async e=>{if(e.preventDefault(),eN(null),!J.trim()){eN("Y\xf6netici şifresi gerekli.");return}if(!eg.plate.trim()||!eg.personName.trim()){eN("Plaka ve personel adı zorunludur.");return}eS(!0);try{let e=await Promise.all(eg.files.map(async e=>{var t,a;let[s,l]=(await D(e)).split(","),r=null==s?void 0:s.match(/^data:(.*?);base64$/);return{file_name:e.name,mime_type:null!==(a=null!==(t=null==r?void 0:r[1])&&void 0!==t?t:e.type)&&void 0!==a?a:"application/octet-stream",content_base64:null!=l?l:""}})),t={plate:eg.plate.trim().toUpperCase(),person_name:eg.personName.trim(),person_title:eg.personTitle.trim()||null,assignment_date:eg.assignmentDate,expected_return_date:eg.expectedReturnDate?eg.expectedReturnDate:null,description:eg.description.trim()||null,attachments:e,admin_password:J.trim()},a=await fetch((0,i.J)("/api/assignments"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)});if(!a.ok)throw Error(await P(a));await a.json(),await tN(),eP(null),ef({plate:"",personName:"",personTitle:"",assignmentDate:eg.assignmentDate,expectedReturnDate:eg.expectedReturnDate,description:"",files:[]}),eC(Date.now()),z(ew,"Zimmet kaydı eklendi")}catch(e){console.error(e),eN(e.message||"Zimmet kaydedilemedi")}finally{eS(!1)}},tB=()=>{eE(!1),eK(null),eO(!1),eZ(null),eU(null),eI(_()),eH(Date.now())},tP=async e=>{if(e.preventDefault(),eY){if(eZ(null),!J.trim()){eZ("Y\xf6netici şifresi gerekli.");return}if(!eM.plate.trim()||!eM.personName.trim()){eZ("Plaka ve personel adı zorunludur.");return}e$(!0);try{let e=await Promise.all(eM.files.map(async e=>{var t,a;let[s,l]=(await D(e)).split(","),r=null==s?void 0:s.match(/^data:(.*?);base64$/);return{file_name:e.name,mime_type:null!==(a=null!==(t=null==r?void 0:r[1])&&void 0!==t?t:e.type)&&void 0!==a?a:"application/octet-stream",content_base64:null!=l?l:""}})),t={plate:eM.plate.trim().toUpperCase(),person_name:eM.personName.trim(),person_title:eM.personTitle.trim()||null,assignment_date:eM.assignmentDate||null,expected_return_date:eM.expectedReturnDate?eM.expectedReturnDate:null,description:eM.description.trim()||null,attachments:e,admin_password:J.trim()},a=await fetch((0,i.J)("/api/assignments/".concat(eY.id)),{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)});if(!a.ok)throw Error(await P(a));let s=await a.json(),l=B(s);ev(e=>e.map(e=>e.id===l.id?l:e)),eK(l),eI(S(l)),eH(Date.now()),eO(!1),z(eU,"Zimmet g\xfcncellendi"),await tN()}catch(e){console.error(e),eZ(e.message||"Zimmet g\xfcncellenemedi")}finally{e$(!1)}}},tz=async e=>{if(e.preventDefault(),e4(null),!J.trim()){e4("Y\xf6netici şifresi gerekli.");return}if(!eX.plate.trim()||!eX.title.trim()){e4("Plaka ve başlık alanları zorunlu.");return}e7(!0);try{let e=await Promise.all(eX.files.map(async e=>{var t,a;let[s,l]=(await D(e)).split(","),r=null==s?void 0:s.match(/^data:(.*?);base64$/);return{file_name:e.name,mime_type:null!==(a=null!==(t=null==r?void 0:r[1])&&void 0!==t?t:e.type)&&void 0!==a?a:"application/octet-stream",content_base64:null!=l?l:""}})),t={plate:eX.plate.trim().toUpperCase(),title:eX.title.trim(),description:eX.description.trim()||null,severity:eX.severity,occurred_at:eX.occurredAt,attachments:e,admin_password:J.trim()},a=await fetch((0,i.J)("/api/damages"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)});if(!a.ok)throw Error(await P(a));await a.json(),await tk(),ta(null),eq({plate:"",title:"",description:"",severity:eX.severity,occurredAt:eX.occurredAt,files:[]}),e6(Date.now()),z(e5,"Hasar kaydı eklendi")}catch(e){console.error(e),e4(e.message||"Hasar kaydedilemedi")}finally{e7(!1)}},tE=async e=>{if(e.preventDefault(),td(null),!J.trim()){td("Y\xf6netici şifresi gerekli.");return}if(!ts.plate.trim()){td("Plaka alanı zorunlu.");return}let t=Number(ts.amount.replace(",","."));if(!Number.isFinite(t)||t<=0){td("Ge\xe7erli bir tutar giriniz.");return}tm(!0);try{let e=await Promise.all(ts.files.map(async e=>{var t,a;let[s,l]=(await D(e)).split(","),r=null==s?void 0:s.match(/^data:(.*?);base64$/);return{file_name:e.name,mime_type:null!==(a=null!==(t=null==r?void 0:r[1])&&void 0!==t?t:e.type)&&void 0!==a?a:"application/octet-stream",content_base64:null!=l?l:""}})),a={plate:ts.plate.trim().toUpperCase(),category:ts.category,amount:t,description:ts.description.trim()||null,expense_date:ts.createdAt,attachments:e,admin_password:J.trim()},s=await fetch((0,i.J)("/api/expenses"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(a)});if(!s.ok)throw Error(await P(s));await s.json(),await tw(),tf(null),tl({plate:"",category:ts.category,amount:"",description:"",createdAt:ts.createdAt,files:[]}),tp(Date.now()),z(tc,"Masraf kaydı eklendi")}catch(e){console.error(e),td(e.message||"Masraf kaydedilemedi")}finally{tm(!1)}},tY=(0,r.useMemo)(()=>tr.reduce((e,t)=>e+(Number.isFinite(t.amount)?t.amount:0),0),[tr]);return(0,s.jsxs)("section",{className:"space-y-8",children:[(0,s.jsx)("nav",{className:"flex flex-wrap gap-2 rounded-full border border-slate-800 bg-slate-900/70 p-1 text-sm",children:n.map(e=>{let t=L===e.id;return(0,s.jsx)("button",{type:"button",onClick:()=>ty(e.id),className:"rounded-full px-4 py-2 transition ".concat(t?"bg-emerald-600 text-white shadow-lg shadow-emerald-900/40":"text-slate-300 hover:bg-slate-800 hover:text-white"),children:e.label},e.id)})}),(()=>{if("vehicles"===L){var e,t,a,r;return(0,s.jsxs)("section",{className:"space-y-6",children:[(0,s.jsxs)("header",{className:"flex flex-col gap-3 md:flex-row md:items-center md:justify-between",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("h2",{className:"text-2xl font-semibold",children:"Ara\xe7 Listesi"}),(0,s.jsxs)("p",{className:"text-sm text-slate-400",children:["Filodaki t\xfcm ara\xe7lar ve yaklaşan belge durumları. Toplam ",R.length," ara\xe7 g\xf6r\xfcn\xfcyor."]})]}),(0,s.jsx)(l.default,{href:"/vehicles",className:"inline-flex items-center justify-center rounded-full border border-emerald-400/40 bg-emerald-500/20 px-4 py-2 text-sm font-medium text-emerald-100 transition hover:border-emerald-300/70 hover:bg-emerald-500/30",children:"Ayrıntılı Ara\xe7 Y\xf6netimi"})]}),F?(0,s.jsx)("p",{className:"rounded-lg border border-rose-500/40 bg-rose-900/40 p-4 text-sm text-rose-100",children:F}):null,(0,s.jsx)("div",{className:"overflow-x-auto rounded-xl border border-slate-800 bg-slate-900/80 shadow-lg shadow-slate-950/40",children:(0,s.jsxs)("table",{className:"min-w-full divide-y divide-slate-800 text-sm",children:[(0,s.jsx)("thead",{className:"bg-slate-900/60 text-xs uppercase tracking-wider text-slate-400",children:(0,s.jsxs)("tr",{children:[(0,s.jsx)("th",{className:"px-4 py-3 text-left",children:"Plaka"}),(0,s.jsx)("th",{className:"px-4 py-3 text-left",children:"Marka / Model"}),(0,s.jsx)("th",{className:"px-4 py-3 text-left",children:"Yıl"}),(0,s.jsx)("th",{className:"px-4 py-3 text-left",children:"Belge Sayısı"}),(0,s.jsx)("th",{className:"px-4 py-3 text-left",children:"Son Belge"}),(0,s.jsx)("th",{className:"px-4 py-3 text-left",children:"Durum"}),(0,s.jsx)("th",{className:"px-4 py-3 text-left",children:"Sorumlu"})]})}),(0,s.jsx)("tbody",{className:"divide-y divide-slate-800/80 text-slate-200",children:M?(0,s.jsx)("tr",{children:(0,s.jsx)("td",{colSpan:7,className:"px-4 py-6 text-center text-sm text-slate-400",children:"Ara\xe7 listesi y\xfckleniyor..."})}):0===R.length?(0,s.jsx)("tr",{children:(0,s.jsx)("td",{colSpan:7,className:"px-4 py-6 text-center text-sm text-slate-400",children:"Hen\xfcz ara\xe7 kaydı bulunmuyor."})}):R.map(e=>{var t,a,l;return(0,s.jsxs)("tr",{className:"hover:bg-slate-800/60",children:[(0,s.jsx)("td",{className:"px-4 py-3 font-semibold text-white",children:e.plate}),(0,s.jsx)("td",{className:"px-4 py-3",children:(0,s.jsxs)("div",{className:"flex flex-col",children:[(0,s.jsx)("span",{children:[e.make,e.model].filter(Boolean).join(" ")||"-"}),e.created_at?(0,s.jsxs)("span",{className:"text-xs text-slate-400",children:["Kayıt: ",new Date(e.created_at).toLocaleDateString("tr-TR")]}):null]})}),(0,s.jsx)("td",{className:"px-4 py-3",children:null!==(t=e.year)&&void 0!==t?t:"-"}),(0,s.jsx)("td",{className:"px-4 py-3",children:e.document_count}),(0,s.jsx)("td",{className:"px-4 py-3",children:e.next_valid_to?(0,s.jsxs)("div",{className:"flex flex-col",children:[(0,s.jsx)("span",{children:new Date(e.next_valid_to).toLocaleDateString("tr-TR")}),(0,s.jsx)("span",{className:"text-xs text-slate-400",children:f(e.days_left)})]}):"-"}),(0,s.jsx)("td",{className:"px-4 py-3",children:(0,s.jsx)("span",{className:"inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-medium ".concat(g(e.next_status)),children:e.next_status?null!==(a=u[e.next_status])&&void 0!==a?a:e.next_status:"Belge Yok"})}),(0,s.jsx)("td",{className:"px-4 py-3 text-xs text-slate-300",children:null!==(l=e.responsible_email)&&void 0!==l?l:"-"})]},e.id)})})]})}),(0,s.jsxs)("div",{className:"space-y-4",children:[(0,s.jsx)("h3",{className:"text-lg font-semibold text-white",children:"Yaklaşan belgeler (60 g\xfcn)"}),(0,s.jsx)("div",{className:"grid gap-5 md:grid-cols-2 xl:grid-cols-3",children:C?(0,s.jsx)("p",{className:"rounded-lg border border-slate-700 bg-slate-800/70 p-4 text-slate-300",children:"Belge verileri y\xfckleniyor..."}):0===t_.length?(0,s.jsx)("p",{className:"rounded-lg border border-slate-700 bg-slate-800/70 p-4 text-slate-300",children:"Yakın tarihte yenilecek belge bulunmuyor."}):t_.map(e=>{var t;return(0,s.jsx)("article",{className:"rounded-xl border shadow-lg shadow-slate-900/40 transition hover:-translate-y-1 hover:shadow-slate-800/60 ".concat(b(e.latestStatus)),children:(0,s.jsxs)("div",{className:"space-y-3 p-5",children:[(0,s.jsxs)("div",{className:"flex items-center justify-between",children:[(0,s.jsx)("span",{className:"text-sm uppercase tracking-wide text-white/70",children:"Plaka"}),(0,s.jsx)("span",{className:"text-lg font-semibold text-white",children:e.plate})]}),e.nextDocument?(0,s.jsxs)(s.Fragment,{children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("span",{className:"text-xs uppercase tracking-wide text-white/70",children:"Sıradaki Belge"}),(0,s.jsx)("h3",{className:"text-lg font-semibold capitalize text-white",children:c(e.nextDocument.doc_type)})]}),(0,s.jsxs)("div",{className:"flex items-center justify-between text-sm text-white/80",children:[(0,s.jsx)("span",{children:"Bitiş Tarihi"}),(0,s.jsx)("span",{children:new Date(e.nextDocument.valid_to).toLocaleDateString("tr-TR")})]}),(0,s.jsxs)("div",{className:"flex items-center justify-between text-sm font-medium text-white",children:[(0,s.jsx)("span",{children:"Kalan G\xfcn"}),(0,s.jsx)("span",{children:null!==(t=e.nextDocument.days_left)&&void 0!==t?t:"-"})]})]}):(0,s.jsx)("p",{className:"text-sm text-white/70",children:"Takvimde yaklaşan belge bulunmuyor."})]})},e.plate)})})]}),ez&&eY?(0,s.jsx)("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-slate-950/80 px-4 py-8",children:(0,s.jsxs)("div",{className:"relative max-h-[90vh] w-full max-w-4xl overflow-y-auto rounded-2xl border border-slate-800 bg-slate-900 shadow-2xl shadow-slate-950/60",children:[(0,s.jsx)("button",{type:"button",onClick:tB,className:"absolute right-4 top-4 rounded-full border border-slate-600/60 bg-slate-900/80 px-3 py-1 text-xs text-slate-200 transition hover:border-rose-400/60 hover:text-rose-200",children:"Kapat"}),(0,s.jsxs)("div",{className:"space-y-6 p-6 md:p-8",children:[(0,s.jsxs)("div",{className:"space-y-2",children:[(0,s.jsxs)("div",{className:"flex flex-col gap-2 md:flex-row md:items-center md:justify-between",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("p",{className:"text-sm uppercase tracking-[0.35em] text-slate-500",children:"Zimmet"}),(0,s.jsx)("h3",{className:"text-2xl font-semibold text-white",children:eY.plate}),(0,s.jsxs)("p",{className:"text-sm text-slate-300",children:[eY.personName,eY.personTitle?" • ".concat(eY.personTitle):""]})]}),(0,s.jsxs)("div",{className:"flex flex-wrap gap-2",children:[(0,s.jsx)("button",{type:"button",onClick:()=>{eO(e=>!e),eZ(null),eU(null),eI(S(eY)),eH(Date.now())},className:"inline-flex items-center rounded-lg border border-sky-400/60 bg-sky-500/15 px-4 py-2 text-sm text-sky-100 transition hover:border-sky-300/80 hover:bg-sky-500/25",children:eR?"D\xfczenlemeyi Kapat":"D\xfczenle"}),(0,s.jsx)("a",{href:null!==(a=null===(e=eY.attachments[0])||void 0===e?void 0:e.preview)&&void 0!==a?a:"#",target:"_blank",rel:"noopener noreferrer",className:"inline-flex items-center rounded-lg border px-4 py-2 text-sm transition ".concat(eY.attachments.length>0?"border-emerald-400/50 bg-emerald-500/20 text-emerald-100 hover:border-emerald-300/70 hover:bg-emerald-500/30":"pointer-events-none border-slate-600/60 bg-slate-800/60 text-slate-400"),children:"İlk G\xf6rseli A\xe7"})]})]}),(0,s.jsx)("p",{className:"text-xs text-slate-500",children:"Kaydedilme: ".concat(v(eY.createdAt)," • Zimmet Tarihi: ").concat(v(eY.assignmentDate))})]}),eJ?(0,s.jsx)("p",{className:"rounded-lg border border-emerald-400/30 bg-emerald-500/15 px-4 py-2 text-xs text-emerald-100",children:eJ}):null,eR?(0,s.jsxs)("form",{className:"space-y-4",onSubmit:tP,children:[(0,s.jsxs)("div",{className:"grid gap-4 md:grid-cols-2",children:[(0,s.jsxs)("div",{className:"flex flex-col gap-2",children:[(0,s.jsx)("label",{className:"text-xs uppercase tracking-[0.25em] text-slate-400",children:"Plaka"}),(0,s.jsx)("input",{className:"rounded-lg border border-slate-700 bg-slate-900 px-3 py-2 text-sm text-white focus:border-sky-400 focus:outline-none",value:eM.plate,onChange:e=>eI(t=>({...t,plate:e.target.value})),onBlur:e=>eI(t=>({...t,plate:e.target.value.trim().toUpperCase()}))})]}),(0,s.jsxs)("div",{className:"flex flex-col gap-2",children:[(0,s.jsx)("label",{className:"text-xs uppercase tracking-[0.25em] text-slate-400",children:"Personel Adı"}),(0,s.jsx)("input",{className:"rounded-lg border border-slate-700 bg-slate-900 px-3 py-2 text-sm text-white focus:border-sky-400 focus:outline-none",value:eM.personName,onChange:e=>eI(t=>({...t,personName:e.target.value}))})]}),(0,s.jsxs)("div",{className:"flex flex-col gap-2",children:[(0,s.jsx)("label",{className:"text-xs uppercase tracking-[0.25em] text-slate-400",children:"G\xf6rev / Departman"}),(0,s.jsx)("input",{className:"rounded-lg border border-slate-700 bg-slate-900 px-3 py-2 text-sm text-white focus:border-sky-400 focus:outline-none",value:eM.personTitle,onChange:e=>eI(t=>({...t,personTitle:e.target.value}))})]}),(0,s.jsxs)("div",{className:"flex flex-col gap-2",children:[(0,s.jsx)("label",{className:"text-xs uppercase tracking-[0.25em] text-slate-400",children:"Beklenen Teslim"}),(0,s.jsx)("input",{type:"date",className:"rounded-lg border border-slate-700 bg-slate-900 px-3 py-2 text-sm text-white focus:border-sky-400 focus:outline-none",value:eM.expectedReturnDate,onChange:e=>eI(t=>({...t,expectedReturnDate:e.target.value}))})]})]}),(0,s.jsxs)("div",{className:"grid gap-4 md:grid-cols-2",children:[(0,s.jsxs)("div",{className:"flex flex-col gap-2",children:[(0,s.jsx)("label",{className:"text-xs uppercase tracking-[0.25em] text-slate-400",children:"Zimmet Tarihi"}),(0,s.jsx)("input",{type:"date",className:"rounded-lg border border-slate-700 bg-slate-900 px-3 py-2 text-sm text-white focus:border-sky-400 focus:outline-none",value:eM.assignmentDate,onChange:e=>eI(t=>({...t,assignmentDate:e.target.value}))})]}),(0,s.jsxs)("div",{className:"flex flex-col gap-2",children:[(0,s.jsx)("label",{className:"text-xs uppercase tracking-[0.25em] text-slate-400",children:"A\xe7ıklama"}),(0,s.jsx)("textarea",{className:"min-h-[90px] rounded-lg border border-slate-700 bg-slate-900 px-3 py-2 text-sm text-white focus:border-sky-400 focus:outline-none",value:eM.description,onChange:e=>eI(t=>({...t,description:e.target.value}))})]})]}),(0,s.jsxs)("div",{className:"flex flex-col gap-2",children:[(0,s.jsx)("label",{className:"text-xs uppercase tracking-[0.25em] text-slate-400",children:"Yeni Fotoğraf / Belge"}),(0,s.jsx)("input",{type:"file",accept:"image/*,application/pdf",multiple:!0,className:"block w-full cursor-pointer rounded-lg border border-slate-700 bg-slate-900 px-3 py-2 text-sm text-slate-300 file:mr-3 file:rounded-md file:border-0 file:bg-sky-500/20 file:px-3 file:py-1 file:text-sky-100 hover:file:bg-sky-500/30",onChange:e=>{let t=e.target.files?Array.from(e.target.files):[];eI(e=>({...e,files:t}))}},eF),eM.files.length>0?(0,s.jsx)("div",{className:"flex flex-wrap gap-2 rounded-lg border border-slate-700/60 bg-slate-900/60 p-3",children:eM.files.map((e,t)=>(0,s.jsxs)("span",{className:"inline-flex items-center gap-2 rounded-md border border-slate-600 bg-slate-800/80 px-3 py-1 text-xs text-slate-100",children:[(0,s.jsx)("span",{className:"max-w-[160px] truncate",children:e.name}),(0,s.jsx)("button",{type:"button",onClick:()=>tT(t),className:"rounded-full border border-slate-500/60 px-2 text-[10px] text-slate-200 transition hover:border-rose-400/60 hover:text-rose-200",children:"Sil"})]},"".concat(e.name,"-").concat(t)))}):(0,s.jsx)("p",{className:"text-[11px] text-slate-500",children:"Mevcut ekler korunur. Buradan yeni g\xf6rsel veya PDF ekleyebilirsiniz."})]}),(0,s.jsxs)("div",{className:"flex flex-col gap-2",children:[(0,s.jsx)("label",{className:"text-xs uppercase tracking-[0.25em] text-slate-400",children:"Y\xf6netici Şifresi"}),(0,s.jsx)("input",{className:"rounded-lg border border-slate-700 bg-slate-900 px-3 py-2 text-sm text-white focus:border-sky-400 focus:outline-none",type:"password",value:J,onChange:e=>U(e.target.value)})]}),eL?(0,s.jsx)("p",{className:"rounded-lg border border-rose-400/30 bg-rose-500/10 px-3 py-2 text-xs text-rose-100",children:eL}):null,(0,s.jsxs)("div",{className:"flex items-center justify-end gap-3",children:[(0,s.jsx)("button",{type:"button",onClick:()=>{eO(!1),eZ(null),eU(null)},className:"rounded-lg border border-slate-700/70 bg-slate-900/70 px-4 py-2 text-xs text-slate-200 transition hover:border-slate-500/60 hover:text-white",children:"İptal"}),(0,s.jsx)("button",{type:"submit",disabled:eG,className:"inline-flex items-center justify-center rounded-lg border border-emerald-400/40 bg-emerald-500/20 px-4 py-2 text-sm font-medium text-emerald-100 transition hover:border-emerald-300/70 hover:bg-emerald-500/30 disabled:cursor-not-allowed disabled:opacity-60",children:eG?"G\xfcncelleniyor...":"Değişiklikleri Kaydet"})]})]}):(0,s.jsxs)("div",{className:"space-y-6",children:[(0,s.jsxs)("div",{className:"grid gap-4 md:grid-cols-2",children:[(0,s.jsxs)("div",{className:"rounded-xl border border-slate-800 bg-slate-900/80 p-4",children:[(0,s.jsx)("p",{className:"text-xs uppercase tracking-[0.3em] text-slate-500",children:"Teslim Bilgisi"}),(0,s.jsxs)("ul",{className:"mt-3 space-y-2 text-sm text-slate-200",children:[(0,s.jsxs)("li",{children:[(0,s.jsx)("span",{className:"text-slate-400",children:"Zimmet Tarihi: "}),v(eY.assignmentDate)]}),(0,s.jsxs)("li",{children:[(0,s.jsx)("span",{className:"text-slate-400",children:"Beklenen Teslim: "}),v(eY.expectedReturnDate)]}),(0,s.jsxs)("li",{children:[(0,s.jsx)("span",{className:"text-slate-400",children:"Durum: "}),k(eY.expectedReturnDate).label]})]})]}),(0,s.jsxs)("div",{className:"rounded-xl border border-slate-800 bg-slate-900/80 p-4",children:[(0,s.jsx)("p",{className:"text-xs uppercase tracking-[0.3em] text-slate-500",children:"Sorumlu"}),(0,s.jsxs)("ul",{className:"mt-3 space-y-2 text-sm text-slate-200",children:[(0,s.jsxs)("li",{children:[(0,s.jsx)("span",{className:"text-slate-400",children:"Personel: "}),eY.personName]}),(0,s.jsxs)("li",{children:[(0,s.jsx)("span",{className:"text-slate-400",children:"G\xf6rev: "}),null!==(r=eY.personTitle)&&void 0!==r?r:"-"]})]})]})]}),eY.description?(0,s.jsxs)("div",{className:"rounded-xl border border-slate-800 bg-slate-900/80 p-4",children:[(0,s.jsx)("p",{className:"text-xs uppercase tracking-[0.3em] text-slate-500",children:"A\xe7ıklama"}),(0,s.jsx)("p",{className:"mt-2 text-sm text-slate-200",children:eY.description})]}):null,(0,s.jsxs)("div",{className:"space-y-3",children:[(0,s.jsxs)("div",{className:"flex items-center justify-between",children:[(0,s.jsx)("h4",{className:"text-sm font-semibold text-white",children:"Belge ve Fotoğraflar"}),(0,s.jsxs)("span",{className:"text-xs text-slate-400",children:[eY.attachments.length," adet ek"]})]}),eY.attachments.length>0?(0,s.jsx)("div",{className:"grid gap-4 sm:grid-cols-2",children:eY.attachments.map(e=>(0,s.jsxs)("figure",{role:"button",tabIndex:0,onClick:()=>{var t;return eV({name:e.name,preview:e.preview,mimeType:null!==(t=e.mimeType)&&void 0!==t?t:null})},onKeyDown:t=>{if("Enter"===t.key||" "===t.key){var a;t.preventDefault(),eV({name:e.name,preview:e.preview,mimeType:null!==(a=e.mimeType)&&void 0!==a?a:null})}},className:"group relative cursor-zoom-in overflow-hidden rounded-xl border border-slate-800 bg-slate-900/80 outline-none transition hover:border-sky-500/60 focus:border-sky-500/60",children:[e.preview.startsWith("data:application/pdf")?(0,s.jsx)("div",{className:"flex h-48 w-full items-center justify-center bg-slate-800 text-sm text-slate-200",children:"PDF \xd6nizleme"}):(0,s.jsx)("img",{src:e.preview,alt:e.name,className:"h-48 w-full object-cover transition group-hover:scale-[1.01]"}),(0,s.jsxs)("figcaption",{className:"flex items-center justify-between gap-3 px-3 py-2 text-xs text-slate-300",children:[(0,s.jsx)("span",{className:"truncate",children:e.name}),e.size?(0,s.jsx)("span",{className:"text-[10px] text-slate-500",children:j(e.size)}):null]}),(0,s.jsx)("span",{className:"absolute right-3 top-3 rounded-full border border-slate-500/60 bg-slate-900/80 px-3 py-1 text-[10px] text-slate-100 opacity-0 transition group-hover:opacity-100",children:"G\xf6r\xfcnt\xfcle"})]},e.id))}):(0,s.jsx)("p",{className:"rounded-lg border border-slate-800 bg-slate-900/70 p-4 text-sm text-slate-300",children:"Bu kayda ait g\xf6rsel eklenmemiş."})]})]})]})]})}):null,eW?(0,s.jsx)("div",{className:"fixed inset-0 z-[60] flex items-center justify-center bg-slate-950/90 px-4 py-8",onClick:()=>eV(null),children:(0,s.jsxs)("div",{className:"relative w-full max-w-4xl rounded-2xl border border-slate-800 bg-slate-900/95 p-6 shadow-2xl shadow-slate-950/70",onClick:e=>e.stopPropagation(),children:[(0,s.jsxs)("div",{className:"flex flex-wrap items-center justify-between gap-3",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("p",{className:"text-xs uppercase tracking-[0.3em] text-slate-500",children:"Dosya \xd6nizleme"}),(0,s.jsx)("h3",{className:"text-lg font-semibold text-white",children:eW.name})]}),(0,s.jsxs)("div",{className:"flex items-center gap-2",children:[(0,s.jsx)("a",{href:eW.preview,target:"_blank",rel:"noopener noreferrer",className:"rounded-lg border border-sky-400/60 bg-sky-500/15 px-3 py-1.5 text-xs text-sky-100 transition hover:border-sky-300/80 hover:bg-sky-500/25",children:"Yeni Sekmede A\xe7"}),(0,s.jsx)("a",{href:eW.preview,download:eW.name,className:"rounded-lg border border-emerald-400/60 bg-emerald-500/15 px-3 py-1.5 text-xs text-emerald-100 transition hover:border-emerald-300/80 hover:bg-emerald-500/25",children:"İndir"}),(0,s.jsx)("button",{type:"button",onClick:()=>eV(null),className:"rounded-full border border-slate-600/60 bg-slate-900/80 px-3 py-1 text-xs text-slate-200 transition hover:border-rose-400/60 hover:text-rose-200",children:"Kapat"})]})]}),(0,s.jsx)("div",{className:"mt-4",children:(null===(t=eW.mimeType)||void 0===t?void 0:t.includes("pdf"))?(0,s.jsx)("iframe",{title:eW.name,src:eW.preview,className:"h-[70vh] w-full rounded-xl border border-slate-800 bg-white"}):(0,s.jsx)("img",{src:eW.preview,alt:eW.name,className:"max-h-[75vh] w-full rounded-xl border border-slate-800 bg-slate-950 object-contain"})})]})}):null]})}return"vehicle-create"===L?(0,s.jsxs)("section",{className:"space-y-8",children:[(0,s.jsxs)("header",{children:[(0,s.jsx)("h2",{className:"text-2xl font-semibold text-white",children:"Ara\xe7 ve Belge Y\xf6netimi"}),(0,s.jsx)("p",{className:"mt-1 text-sm text-slate-400",children:"Yeni ara\xe7 kaydı oluşturun ve aynı ekrandan belge ekleyin. Y\xf6netici şifresi t\xfcm işlemler i\xe7in gereklidir."})]}),(0,s.jsxs)("div",{className:"grid gap-6 lg:grid-cols-2",children:[(0,s.jsxs)("form",{className:"flex flex-col gap-3 rounded-2xl border border-slate-800 bg-slate-900/80 p-5",onSubmit:tS,children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("h3",{className:"text-lg font-semibold text-white",children:"Ara\xe7 Ekle"}),(0,s.jsx)("p",{className:"text-xs text-slate-400",children:"Plaka, marka ve sorumlu bilgilerini girin."})]}),(0,s.jsx)("label",{className:"text-xs uppercase tracking-[0.25em] text-slate-400",children:"Plaka"}),(0,s.jsx)("input",{className:"rounded-lg border border-slate-700 bg-slate-900 px-3 py-2 text-sm text-white focus:border-emerald-400 focus:outline-none",placeholder:"34 ABC 123",value:G.plate,onChange:e=>$(t=>({...t,plate:e.target.value}))}),(0,s.jsx)("label",{className:"text-xs uppercase tracking-[0.25em] text-slate-400",children:"Marka"}),(0,s.jsx)("input",{className:"rounded-lg border border-slate-700 bg-slate-900 px-3 py-2 text-sm text-white focus:border-emerald-400 focus:outline-none",placeholder:"\xd6rn. Ford",value:G.make,onChange:e=>$(t=>({...t,make:e.target.value}))}),(0,s.jsx)("label",{className:"text-xs uppercase tracking-[0.25em] text-slate-400",children:"Model"}),(0,s.jsx)("input",{className:"rounded-lg border border-slate-700 bg-slate-900 px-3 py-2 text-sm text-white focus:border-emerald-400 focus:outline-none",placeholder:"\xd6rn. Transit",value:G.model,onChange:e=>$(t=>({...t,model:e.target.value}))}),(0,s.jsx)("label",{className:"text-xs uppercase tracking-[0.25em] text-slate-400",children:"Yıl"}),(0,s.jsx)("input",{className:"rounded-lg border border-slate-700 bg-slate-900 px-3 py-2 text-sm text-white focus:border-emerald-400 focus:outline-none",placeholder:"2020",value:G.year,onChange:e=>$(t=>({...t,year:e.target.value}))}),(0,s.jsx)("label",{className:"text-xs uppercase tracking-[0.25em] text-slate-400",children:"Sorumlu E-posta"}),(0,s.jsx)("input",{className:"rounded-lg border border-slate-700 bg-slate-900 px-3 py-2 text-sm text-white focus:border-emerald-400 focus:outline-none",placeholder:"ornek@firma.com",type:"email",value:G.responsible_email,onChange:e=>$(t=>({...t,responsible_email:e.target.value}))}),(0,s.jsx)("label",{className:"text-xs uppercase tracking-[0.25em] text-slate-400",children:"Y\xf6netici Şifresi"}),(0,s.jsx)("input",{className:"rounded-lg border border-slate-700 bg-slate-900 px-3 py-2 text-sm text-white focus:border-emerald-400 focus:outline-none",placeholder:"Y\xf6netici şifresi",type:"password",value:J,onChange:e=>U(e.target.value)}),X?(0,s.jsx)("p",{className:"mt-2 rounded-lg border border-rose-400/30 bg-rose-500/10 px-3 py-2 text-xs text-rose-100",children:X}):null,Q?(0,s.jsx)("p",{className:"mt-2 rounded-lg border border-emerald-400/30 bg-emerald-500/10 px-3 py-2 text-xs text-emerald-100",children:Q}):null,(0,s.jsx)("button",{type:"submit",disabled:W,className:"mt-2 inline-flex items-center justify-center rounded-lg border border-emerald-400/40 bg-emerald-500/20 px-4 py-2 text-sm font-medium text-emerald-100 transition hover:border-emerald-300/70 hover:bg-emerald-500/30 disabled:cursor-not-allowed disabled:opacity-60",children:W?"Kaydediliyor...":"Ara\xe7 Kaydet"})]}),(0,s.jsxs)("form",{className:"flex flex-col gap-3 rounded-2xl border border-slate-800 bg-slate-900/80 p-5",onSubmit:e=>tD(e,et,el,ei,ed,()=>ea({vehicleId:"",doc_type:et.doc_type,valid_from:"",valid_to:"",note:""})),children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("h3",{className:"text-lg font-semibold text-white",children:"Belge Ekle"}),(0,s.jsx)("p",{className:"text-xs text-slate-400",children:"Mevcut ara\xe7 i\xe7in hızla belge oluşturun."})]}),(0,s.jsx)("label",{className:"text-xs uppercase tracking-[0.25em] text-slate-400",children:"Ara\xe7"}),(0,s.jsxs)("select",{className:"rounded-lg border border-slate-700 bg-slate-900 px-3 py-2 text-sm text-white focus:border-sky-400 focus:outline-none",value:et.vehicleId,onChange:e=>ea(t=>({...t,vehicleId:e.target.value})),children:[(0,s.jsx)("option",{value:"",children:"Ara\xe7 se\xe7in"}),R.map(e=>(0,s.jsxs)("option",{value:e.id,children:[e.plate," (",[e.make,e.model].filter(Boolean).join(" ")||"Model belirtilmedi",")"]},e.id))]}),(0,s.jsx)("label",{className:"text-xs uppercase tracking-[0.25em] text-slate-400",children:"Belge T\xfcr\xfc"}),(0,s.jsx)("select",{className:"rounded-lg border border-slate-700 bg-slate-900 px-3 py-2 text-sm text-white focus:border-sky-400 focus:outline-none",value:et.doc_type,onChange:e=>ea(t=>({...t,doc_type:e.target.value})),children:d.map(e=>(0,s.jsx)("option",{value:e.value,children:e.label},e.value))}),(0,s.jsx)("label",{className:"text-xs uppercase tracking-[0.25em] text-slate-400",children:"Başlangı\xe7 Tarihi"}),(0,s.jsx)("input",{type:"date",className:"rounded-lg border border-slate-700 bg-slate-900 px-3 py-2 text-sm text-white focus:border-sky-400 focus:outline-none",value:et.valid_from,onChange:e=>ea(t=>({...t,valid_from:e.target.value}))}),(0,s.jsx)("label",{className:"text-xs uppercase tracking-[0.25em] text-slate-400",children:"Bitiş Tarihi"}),(0,s.jsx)("input",{type:"date",className:"rounded-lg border border-slate-700 bg-slate-900 px-3 py-2 text-sm text-white focus:border-sky-400 focus:outline-none",value:et.valid_to,onChange:e=>ea(t=>({...t,valid_to:e.target.value}))}),(0,s.jsx)("label",{className:"text-xs uppercase tracking-[0.25em] text-slate-400",children:"Not"}),(0,s.jsx)("textarea",{className:"min-h-[80px] rounded-lg border border-slate-700 bg-slate-900 px-3 py-2 text-sm text-white focus:border-sky-400 focus:outline-none",placeholder:"İsteğe bağlı a\xe7ıklama",value:et.note,onChange:e=>ea(t=>({...t,note:e.target.value}))}),(0,s.jsx)("label",{className:"text-xs uppercase tracking-[0.25em] text-slate-400",children:"Y\xf6netici Şifresi"}),(0,s.jsx)("input",{className:"rounded-lg border border-slate-700 bg-slate-900 px-3 py-2 text-sm text-white focus:border-sky-400 focus:outline-none",placeholder:"Y\xf6netici şifresi",type:"password",value:J,onChange:e=>U(e.target.value)}),er?(0,s.jsx)("p",{className:"mt-2 rounded-lg border border-rose-400/30 bg-rose-500/10 px-3 py-2 text-xs text-rose-100",children:er}):null,en?(0,s.jsx)("p",{className:"mt-2 rounded-lg border border-emerald-400/30 bg-emerald-500/10 px-3 py-2 text-xs text-emerald-100",children:en}):null,(0,s.jsx)("button",{type:"submit",disabled:es,className:"mt-2 inline-flex items-center justify-center rounded-lg border border-sky-400/40 bg-sky-500/20 px-4 py-2 text-sm font-medium text-sky-100 transition hover:border-sky-300/70 hover:bg-sky-500/30 disabled:cursor-not-allowed disabled:opacity-60",children:es?"Kaydediliyor...":"Belge Kaydet"})]})]})]}):"assignments"===L?(0,s.jsxs)("section",{className:"space-y-6",children:[(0,s.jsxs)("header",{children:[(0,s.jsx)("h2",{className:"text-2xl font-semibold text-white",children:"Ara\xe7 Zimmetleri"}),(0,s.jsx)("p",{className:"mt-1 text-sm text-slate-400",children:"Personellere teslim edilen ara\xe7ları kaydedin, teslim fotoğraflarını ekleyin."})]}),(0,s.jsxs)("div",{className:"grid gap-6 lg:grid-cols-[minmax(0,1.05fr)_minmax(0,1fr)]",children:[(0,s.jsxs)("form",{className:"flex flex-col gap-4 rounded-2xl border border-slate-800 bg-slate-900/80 p-5",onSubmit:tA,children:[(0,s.jsxs)("div",{className:"space-y-2",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("h3",{className:"text-lg font-semibold text-white",children:"Zimmet Kaydı Oluştur"}),(0,s.jsx)("p",{className:"text-xs text-slate-400",children:"Ara\xe7 teslimini t\xfcm detaylarıyla kaydedin."})]}),(0,s.jsx)("div",{className:"rounded-lg border border-sky-400/30 bg-sky-500/10 px-3 py-2 text-[11px] text-sky-100",children:(0,s.jsx)("p",{children:"Fotoğraf veya PDF ekleyerek teslim tutanağını sisteme kaydedin. Plaka ve personel adı zorunludur."})})]}),(0,s.jsxs)("div",{className:"grid gap-4 md:grid-cols-2",children:[(0,s.jsxs)("div",{className:"flex flex-col gap-2",children:[(0,s.jsxs)("label",{className:"text-xs uppercase tracking-[0.25em] text-slate-400",children:["Plaka",(0,s.jsx)("span",{className:"ml-2 rounded-full border border-slate-500/40 px-2 py-0.5 text-[10px] text-slate-200",children:"Zorunlu"})]}),(0,s.jsx)("input",{className:"rounded-lg border border-slate-700 bg-slate-900 px-3 py-2 text-sm text-white focus:border-sky-400 focus:outline-none",placeholder:"34 ABC 123",value:eg.plate,onChange:e=>ef(t=>({...t,plate:e.target.value})),onBlur:e=>ef(t=>({...t,plate:e.target.value.trim().toUpperCase()}))})]}),(0,s.jsxs)("div",{className:"flex flex-col gap-2",children:[(0,s.jsxs)("label",{className:"text-xs uppercase tracking-[0.25em] text-slate-400",children:["Personel Adı",(0,s.jsx)("span",{className:"ml-2 rounded-full border border-slate-500/40 px-2 py-0.5 text-[10px] text-slate-200",children:"Zorunlu"})]}),(0,s.jsx)("input",{className:"rounded-lg border border-slate-700 bg-slate-900 px-3 py-2 text-sm text-white focus:border-sky-400 focus:outline-none",placeholder:"Ad Soyad",value:eg.personName,onChange:e=>ef(t=>({...t,personName:e.target.value}))})]}),(0,s.jsxs)("div",{className:"flex flex-col gap-2",children:[(0,s.jsx)("label",{className:"text-xs uppercase tracking-[0.25em] text-slate-400",children:"G\xf6rev / Departman"}),(0,s.jsx)("input",{className:"rounded-lg border border-slate-700 bg-slate-900 px-3 py-2 text-sm text-white focus:border-sky-400 focus:outline-none",placeholder:"Depo Sorumlusu",value:eg.personTitle,onChange:e=>ef(t=>({...t,personTitle:e.target.value}))})]}),(0,s.jsxs)("div",{className:"flex flex-col gap-2",children:[(0,s.jsx)("label",{className:"text-xs uppercase tracking-[0.25em] text-slate-400",children:"Beklenen Teslim"}),(0,s.jsx)("input",{type:"date",className:"rounded-lg border border-slate-700 bg-slate-900 px-3 py-2 text-sm text-white focus:border-sky-400 focus:outline-none",value:eg.expectedReturnDate,onChange:e=>ef(t=>({...t,expectedReturnDate:e.target.value}))})]})]}),(0,s.jsxs)("div",{className:"grid gap-4 md:grid-cols-2",children:[(0,s.jsxs)("div",{className:"flex flex-col gap-2",children:[(0,s.jsx)("label",{className:"text-xs uppercase tracking-[0.25em] text-slate-400",children:"Zimmet Tarihi"}),(0,s.jsx)("input",{type:"date",className:"rounded-lg border border-slate-700 bg-slate-900 px-3 py-2 text-sm text-white focus:border-sky-400 focus:outline-none",value:eg.assignmentDate,onChange:e=>ef(t=>({...t,assignmentDate:e.target.value}))})]}),(0,s.jsxs)("div",{className:"flex flex-col gap-2",children:[(0,s.jsx)("label",{className:"text-xs uppercase tracking-[0.25em] text-slate-400",children:"A\xe7ıklama"}),(0,s.jsx)("textarea",{className:"min-h-[90px] rounded-lg border border-slate-700 bg-slate-900 px-3 py-2 text-sm text-white focus:border-sky-400 focus:outline-none",placeholder:"Teslim şartları, ara\xe7 \xfczerinde bulunan ekipmanlar vb.",value:eg.description,onChange:e=>ef(t=>({...t,description:e.target.value}))})]})]}),(0,s.jsxs)("div",{className:"flex flex-col gap-2",children:[(0,s.jsx)("label",{className:"text-xs uppercase tracking-[0.25em] text-slate-400",children:"Fotoğraf / Belge"}),(0,s.jsx)("input",{type:"file",accept:"image/*,application/pdf",multiple:!0,className:"block w-full cursor-pointer rounded-lg border border-slate-700 bg-slate-900 px-3 py-2 text-sm text-slate-300 file:mr-3 file:rounded-md file:border-0 file:bg-sky-500/20 file:px-3 file:py-1 file:text-sky-100 hover:file:bg-sky-500/30",onChange:e=>{let t=e.target.files?Array.from(e.target.files):[];ef(e=>({...e,files:t}))}},eD),eg.files.length>0?(0,s.jsx)("div",{className:"flex flex-wrap gap-2 rounded-lg border border-slate-700/60 bg-slate-900/60 p-3",children:eg.files.map((e,t)=>(0,s.jsxs)("span",{className:"inline-flex items-center gap-2 rounded-md border border-slate-600 bg-slate-800/80 px-3 py-1 text-xs text-slate-100",children:[(0,s.jsx)("span",{className:"max-w-[160px] truncate",children:e.name}),(0,s.jsx)("button",{type:"button",onClick:()=>tC(t),className:"rounded-full border border-slate-500/60 px-2 text-[10px] text-slate-200 transition hover:border-rose-400/60 hover:text-rose-200",children:"Sil"})]},"".concat(e.name,"-").concat(t)))}):(0,s.jsx)("p",{className:"text-[11px] text-slate-500",children:"En fazla 5 MB boyutunda g\xf6rsel veya PDF se\xe7ebilirsiniz."})]}),(0,s.jsxs)("div",{className:"flex flex-col gap-2",children:[(0,s.jsx)("label",{className:"text-xs uppercase tracking-[0.25em] text-slate-400",children:"Y\xf6netici Şifresi"}),(0,s.jsx)("input",{className:"rounded-lg border border-slate-700 bg-slate-900 px-3 py-2 text-sm text-white focus:border-sky-400 focus:outline-none",placeholder:"Y\xf6netici şifresi",type:"password",value:J,onChange:e=>U(e.target.value)})]}),ej?(0,s.jsx)("p",{className:"rounded-lg border border-rose-400/30 bg-rose-500/10 px-3 py-2 text-xs text-rose-100",children:ej}):null,ek?(0,s.jsx)("p",{className:"rounded-lg border border-emerald-400/30 bg-emerald-500/10 px-3 py-2 text-xs text-emerald-100",children:ek}):null,(0,s.jsxs)("div",{className:"flex items-center justify-end gap-3 pt-2",children:[(0,s.jsx)("button",{type:"button",className:"rounded-lg border border-slate-700/70 bg-slate-900/70 px-4 py-2 text-xs text-slate-200 transition hover:border-slate-500/60 hover:text-white",onClick:()=>{ef(_()),eC(Date.now())},children:"Formu Temizle"}),(0,s.jsx)("button",{type:"submit",disabled:e_,className:"inline-flex items-center justify-center rounded-lg border border-sky-400/40 bg-sky-500/20 px-4 py-2 text-sm font-medium text-sky-100 transition hover:border-sky-300/70 hover:bg-sky-500/30 disabled:cursor-not-allowed disabled:opacity-60",children:e_?"Kaydediliyor...":"Zimmet Kaydet"})]})]}),(0,s.jsxs)("div",{className:"space-y-4 rounded-2xl border border-slate-800 bg-slate-900/80 p-5",children:[(0,s.jsxs)("div",{className:"flex items-center justify-between",children:[(0,s.jsx)("h3",{className:"text-lg font-semibold text-white",children:"Zimmet Kayıtları"}),(0,s.jsxs)("span",{className:"inline-flex items-center rounded-full border border-slate-700 bg-slate-800 px-2 py-0.5 text-xs text-slate-300",children:[ey.length," kayıt"]})]}),eB?(0,s.jsx)("p",{className:"rounded-lg border border-sky-400/30 bg-sky-500/10 p-4 text-sm text-sky-100",children:eB}):eT?(0,s.jsx)("p",{className:"rounded-lg border border-slate-800 bg-slate-900/70 p-4 text-sm text-slate-300",children:"Zimmet kayıtları y\xfckleniyor..."}):0===ey.length?(0,s.jsx)("p",{className:"rounded-lg border border-slate-800 bg-slate-900/70 p-4 text-sm text-slate-300",children:"Hen\xfcz zimmet kaydı eklemediniz."}):(0,s.jsx)("div",{className:"space-y-3",children:ey.map(e=>{let t=k(e.expectedReturnDate),a=v(e.createdAt),l=v(e.assignmentDate),r=v(e.expectedReturnDate);return(0,s.jsxs)("article",{className:"rounded-xl border p-5 shadow-sm shadow-slate-950/20 transition hover:-translate-y-[2px] hover:shadow-slate-900/40 ".concat(t.cardClass),children:[(0,s.jsxs)("div",{className:"flex flex-col gap-3 sm:flex-row sm:items-start sm:justify-between",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("p",{className:"text-sm font-semibold text-white",children:e.personName}),e.personTitle?(0,s.jsx)("p",{className:"text-xs text-slate-300",children:e.personTitle}):null,(0,s.jsx)("p",{className:"mt-3 text-[10px] uppercase tracking-[0.3em] text-slate-500",children:"Plaka"}),(0,s.jsx)("p",{className:"text-sm text-white",children:e.plate})]}),(0,s.jsx)("span",{className:"inline-flex items-center rounded-full border px-3 py-1 text-[11px] font-semibold uppercase tracking-[0.25em] ".concat(t.badgeClass),children:t.label})]}),(0,s.jsxs)("div",{className:"mt-4 grid gap-3 text-[11px] text-slate-400 sm:grid-cols-3",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("span",{className:"block uppercase tracking-[0.3em] text-slate-500",children:"Zimmet Tarihi"}),(0,s.jsx)("span",{className:"mt-1 block text-sm text-white",children:l})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("span",{className:"block uppercase tracking-[0.3em] text-slate-500",children:"Beklenen Teslim"}),(0,s.jsx)("span",{className:"mt-1 block text-sm text-white",children:r})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("span",{className:"block uppercase tracking-[0.3em] text-slate-500",children:"Kaydedildi"}),(0,s.jsx)("span",{className:"mt-1 block text-sm text-white",children:a})]})]}),e.description?(0,s.jsx)("p",{className:"mt-3 rounded-lg border border-slate-700/60 bg-slate-900/70 p-3 text-sm text-slate-200",children:e.description}):null,e.attachments.length>0?(0,s.jsx)("div",{className:"mt-4 grid gap-3 sm:grid-cols-2",children:e.attachments.map(e=>{let t=j(e.size);return(0,s.jsxs)("figure",{className:"group relative flex flex-col overflow-hidden rounded-lg border border-slate-700 bg-slate-900/80",children:[e.preview.startsWith("data:application/pdf")?(0,s.jsx)("div",{className:"flex h-28 w-full items-center justify-center bg-slate-800 text-xs text-slate-200",children:"PDF \xd6N İZLEME"}):(0,s.jsx)("img",{src:e.preview,alt:e.name,className:"h-28 w-full object-cover"}),(0,s.jsxs)("figcaption",{className:"flex items-center justify-between gap-3 px-3 py-2 text-[11px] text-slate-300",children:[(0,s.jsx)("span",{className:"truncate",children:e.name}),t?(0,s.jsx)("span",{className:"text-[10px] text-slate-500",children:t}):null]}),(0,s.jsx)("a",{href:e.preview,download:e.name,className:"absolute right-2 top-2 rounded-full border border-slate-500/60 bg-slate-900/80 px-2 py-0.5 text-[10px] text-slate-200 opacity-0 transition group-hover:opacity-100",children:"İndir"})]},e.id)})}):null]},e.id)})})]})]})]}):"damages"===L?(0,s.jsxs)("section",{className:"space-y-6",children:[(0,s.jsxs)("header",{children:[(0,s.jsx)("h2",{className:"text-2xl font-semibold text-white",children:"Hasar Takibi"}),(0,s.jsx)("p",{className:"mt-1 text-sm text-slate-400",children:"Hasar kayıtlarını oluşturun ve g\xf6rseller y\xfckleyin. Kayıtlar yalnızca bu oturumda saklanır."})]}),(0,s.jsxs)("div",{className:"grid gap-6 lg:grid-cols-[minmax(0,1.1fr)_minmax(0,1fr)]",children:[(0,s.jsxs)("form",{className:"flex flex-col gap-3 rounded-2xl border border-slate-800 bg-slate-900/80 p-5",onSubmit:tz,children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("h3",{className:"text-lg font-semibold text-white",children:"Hasar Kaydı Oluştur"}),(0,s.jsx)("p",{className:"text-xs text-slate-400",children:"Plaka, tarih ve hasar detaylarını girin."})]}),(0,s.jsx)("label",{className:"text-xs uppercase tracking-[0.25em] text-slate-400",children:"Plaka"}),(0,s.jsx)("input",{className:"rounded-lg border border-slate-700 bg-slate-900 px-3 py-2 text-sm text-white focus:border-rose-400 focus:outline-none",placeholder:"34 ABC 123",value:eX.plate,onChange:e=>eq(t=>({...t,plate:e.target.value}))}),(0,s.jsx)("label",{className:"text-xs uppercase tracking-[0.25em] text-slate-400",children:"Başlık"}),(0,s.jsx)("input",{className:"rounded-lg border border-slate-700 bg-slate-900 px-3 py-2 text-sm text-white focus:border-rose-400 focus:outline-none",placeholder:"\xd6rn. Sağ kapı \xe7izik",value:eX.title,onChange:e=>eq(t=>({...t,title:e.target.value}))}),(0,s.jsxs)("div",{className:"grid gap-3 sm:grid-cols-2",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"text-xs uppercase tracking-[0.25em] text-slate-400",children:"Şiddet"}),(0,s.jsx)("select",{className:"w-full rounded-lg border border-slate-700 bg-slate-900 px-3 py-2 text-sm text-white focus:border-rose-400 focus:outline-none",value:eX.severity,onChange:e=>eq(t=>({...t,severity:e.target.value})),children:x.map(e=>(0,s.jsx)("option",{value:e,children:e},e))})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"text-xs uppercase tracking-[0.25em] text-slate-400",children:"Tarih"}),(0,s.jsx)("input",{type:"date",className:"w-full rounded-lg border border-slate-700 bg-slate-900 px-3 py-2 text-sm text-white focus:border-rose-400 focus:outline-none",value:eX.occurredAt,onChange:e=>eq(t=>({...t,occurredAt:e.target.value}))})]})]}),(0,s.jsx)("label",{className:"text-xs uppercase tracking-[0.25em] text-slate-400",children:"A\xe7ıklama"}),(0,s.jsx)("textarea",{className:"min-h-[90px] rounded-lg border border-slate-700 bg-slate-900 px-3 py-2 text-sm text-white focus:border-rose-400 focus:outline-none",placeholder:"Hasar detaylarını girin",value:eX.description,onChange:e=>eq(t=>({...t,description:e.target.value}))}),(0,s.jsx)("label",{className:"text-xs uppercase tracking-[0.25em] text-slate-400",children:"Fotoğraf / G\xf6rsel"}),(0,s.jsx)("input",{type:"file",accept:"image/*",multiple:!0,className:"block w-full cursor-pointer rounded-lg border border-slate-700 bg-slate-900 px-3 py-2 text-sm text-slate-300 file:mr-3 file:rounded-md file:border-0 file:bg-rose-500/20 file:px-3 file:py-1 file:text-rose-100 hover:file:bg-rose-500/30",onChange:e=>{let t=e.target.files?Array.from(e.target.files):[];eq(e=>({...e,files:t}))}},e9),(0,s.jsx)("label",{className:"text-xs uppercase tracking-[0.25em] text-slate-400",children:"Y\xf6netici Şifresi"}),(0,s.jsx)("input",{className:"rounded-lg border border-slate-700 bg-slate-900 px-3 py-2 text-sm text-white focus:border-rose-400 focus:outline-none",placeholder:"Y\xf6netici şifresi",type:"password",value:J,onChange:e=>U(e.target.value)}),e2?(0,s.jsx)("p",{className:"mt-2 rounded-lg border border-rose-400/30 bg-rose-500/10 px-3 py-2 text-xs text-rose-100",children:e2}):null,e3?(0,s.jsx)("p",{className:"mt-2 rounded-lg border border-emerald-400/30 bg-emerald-500/10 px-3 py-2 text-xs text-emerald-100",children:e3}):null,(0,s.jsx)("button",{type:"submit",disabled:e1,className:"inline-flex items-center justify-center rounded-lg border border-rose-400/40 bg-rose-500/20 px-4 py-2 text-sm font-medium text-rose-100 transition hover:border-rose-300/70 hover:bg-rose-500/30 disabled:cursor-not-allowed disabled:opacity-60",children:e1?"Kaydediliyor...":"Hasar Kaydet"})]}),(0,s.jsxs)("div",{className:"space-y-4 rounded-2xl border border-slate-800 bg-slate-900/80 p-5",children:[(0,s.jsxs)("div",{className:"flex items-center justify-between",children:[(0,s.jsx)("h3",{className:"text-lg font-semibold text-white",children:"Hasar Kayıtları"}),(0,s.jsxs)("span",{className:"inline-flex items-center rounded-full border border-slate-700 bg-slate-800 px-2 py-0.5 text-xs text-slate-300",children:[eQ.length," kayıt"]})]}),tt?(0,s.jsx)("p",{className:"rounded-lg border border-rose-400/30 bg-rose-500/10 p-4 text-sm text-rose-100",children:tt}):e8?(0,s.jsx)("p",{className:"rounded-lg border border-slate-800 bg-slate-900/70 p-4 text-sm text-slate-300",children:"Hasar kayıtları y\xfckleniyor..."}):0===eQ.length?(0,s.jsx)("p",{className:"rounded-lg border border-slate-800 bg-slate-900/70 p-4 text-sm text-slate-300",children:"Hen\xfcz hasar kaydı eklemediniz."}):(0,s.jsx)("div",{className:"space-y-3",children:eQ.map(e=>(0,s.jsxs)("article",{className:"rounded-lg border border-slate-800 bg-slate-900/70 p-4 shadow-sm shadow-slate-950/20",children:[(0,s.jsxs)("div",{className:"flex items-center justify-between text-xs text-slate-300",children:[(0,s.jsx)("span",{className:"font-semibold text-white",children:e.plate}),(0,s.jsx)("span",{children:new Date(e.occurredAt).toLocaleDateString("tr-TR")})]}),(0,s.jsxs)("div",{className:"mt-1 flex items-start justify-between gap-3",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("p",{className:"text-sm font-medium text-white",children:e.title}),e.description?(0,s.jsx)("p",{className:"text-xs text-slate-300",children:e.description}):null]}),(0,s.jsx)("span",{className:"inline-flex items-center rounded-full border px-2.5 py-0.5 text-[10px] font-semibold uppercase tracking-[0.25em] ".concat(g("Ağır"===e.severity?"critical":"Orta"===e.severity?"warning":"ok")),children:e.severity})]}),e.attachments.length>0?(0,s.jsx)("div",{className:"mt-3 flex flex-wrap gap-3",children:e.attachments.map(e=>(0,s.jsxs)("figure",{className:"flex flex-col overflow-hidden rounded-lg border border-slate-800 bg-slate-900/80",children:[(0,s.jsx)("img",{src:e.preview,alt:e.name,className:"h-24 w-32 object-cover"}),(0,s.jsx)("figcaption",{className:"truncate px-2 py-1 text-[11px] text-slate-300",children:e.name})]},e.id))}):null]},e.id))})]})]})]}):"expenses"===L?(0,s.jsxs)("section",{className:"space-y-6",children:[(0,s.jsxs)("header",{children:[(0,s.jsx)("h2",{className:"text-2xl font-semibold text-white",children:"Masraf Y\xf6netimi"}),(0,s.jsx)("p",{className:"mt-1 text-sm text-slate-400",children:"Masrafları kategori ve tutara g\xf6re kaydedin. Fiş veya fatura g\xf6rsellerini ekleyin."})]}),(0,s.jsxs)("div",{className:"grid gap-6 lg:grid-cols-[minmax(0,1.1fr)_minmax(0,1fr)]",children:[(0,s.jsxs)("form",{className:"flex flex-col gap-3 rounded-2xl border border-slate-800 bg-slate-900/80 p-5",onSubmit:tE,children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("h3",{className:"text-lg font-semibold text-white",children:"Masraf Ekle"}),(0,s.jsx)("p",{className:"text-xs text-slate-400",children:"Plaka, kategori ve tutarı girin."})]}),(0,s.jsx)("label",{className:"text-xs uppercase tracking-[0.25em] text-slate-400",children:"Plaka"}),(0,s.jsx)("input",{className:"rounded-lg border border-slate-700 bg-slate-900 px-3 py-2 text-sm text-white focus:border-indigo-400 focus:outline-none",placeholder:"34 ABC 123",value:ts.plate,onChange:e=>tl(t=>({...t,plate:e.target.value}))}),(0,s.jsx)("label",{className:"text-xs uppercase tracking-[0.25em] text-slate-400",children:"Kategori"}),(0,s.jsx)("select",{className:"rounded-lg border border-slate-700 bg-slate-900 px-3 py-2 text-sm text-white focus:border-indigo-400 focus:outline-none",value:ts.category,onChange:e=>tl(t=>({...t,category:e.target.value})),children:m.map(e=>(0,s.jsx)("option",{value:e,children:e},e))}),(0,s.jsx)("label",{className:"text-xs uppercase tracking-[0.25em] text-slate-400",children:"Tutar"}),(0,s.jsx)("input",{className:"rounded-lg border border-slate-700 bg-slate-900 px-3 py-2 text-sm text-white focus:border-indigo-400 focus:outline-none",placeholder:"\xd6rn. 2500",value:ts.amount,onChange:e=>tl(t=>({...t,amount:e.target.value}))}),(0,s.jsx)("label",{className:"text-xs uppercase tracking-[0.25em] text-slate-400",children:"Tarih"}),(0,s.jsx)("input",{type:"date",className:"rounded-lg border border-slate-700 bg-slate-900 px-3 py-2 text-sm text-white focus:border-indigo-400 focus:outline-none",value:ts.createdAt,onChange:e=>tl(t=>({...t,createdAt:e.target.value}))}),(0,s.jsx)("label",{className:"text-xs uppercase tracking-[0.25em] text-slate-400",children:"A\xe7ıklama"}),(0,s.jsx)("textarea",{className:"min-h-[90px] rounded-lg border border-slate-700 bg-slate-900 px-3 py-2 text-sm text-white focus:border-indigo-400 focus:outline-none",placeholder:"Masraf detaylarını girin",value:ts.description,onChange:e=>tl(t=>({...t,description:e.target.value}))}),(0,s.jsx)("label",{className:"text-xs uppercase tracking-[0.25em] text-slate-400",children:"Fiş / Fatura"}),(0,s.jsx)("input",{type:"file",accept:"image/*,.pdf",multiple:!0,className:"block w-full cursor-pointer rounded-lg border border-slate-700 bg-slate-900 px-3 py-2 text-sm text-slate-300 file:mr-3 file:rounded-md file:border-0 file:bg-indigo-500/20 file:px-3 file:py-1 file:text-indigo-100 hover:file:bg-indigo-500/30",onChange:e=>{let t=e.target.files?Array.from(e.target.files):[];tl(e=>({...e,files:t}))}},tu),(0,s.jsx)("label",{className:"text-xs uppercase tracking-[0.25em] text-slate-400",children:"Y\xf6netici Şifresi"}),(0,s.jsx)("input",{className:"rounded-lg border border-slate-700 bg-slate-900 px-3 py-2 text-sm text-white focus:border-indigo-400 focus:outline-none",placeholder:"Y\xf6netici şifresi",type:"password",value:J,onChange:e=>U(e.target.value)}),tn?(0,s.jsx)("p",{className:"mt-2 rounded-lg border border-rose-400/30 bg-rose-500/10 px-3 py-2 text-xs text-rose-100",children:tn}):null,to?(0,s.jsx)("p",{className:"mt-2 rounded-lg border border-emerald-400/30 bg-emerald-500/10 px-3 py-2 text-xs text-emerald-100",children:to}):null,(0,s.jsx)("button",{type:"submit",disabled:tx,className:"inline-flex items-center justify-center rounded-lg border border-indigo-400/40 bg-indigo-500/20 px-4 py-2 text-sm font-medium text-indigo-100 transition hover:border-indigo-300/70 hover:bg-indigo-500/30 disabled:cursor-not-allowed disabled:opacity-60",children:tx?"Kaydediliyor...":"Masraf Kaydet"})]}),(0,s.jsxs)("div",{className:"space-y-4 rounded-2xl border border-slate-800 bg-slate-900/80 p-5",children:[(0,s.jsxs)("div",{className:"flex items-center justify-between",children:[(0,s.jsx)("h3",{className:"text-lg font-semibold text-white",children:"Masraf Kayıtları"}),(0,s.jsxs)("div",{className:"flex items-center gap-2",children:[(0,s.jsxs)("span",{className:"inline-flex items-center rounded-full border border-slate-700 bg-slate-800 px-2 py-0.5 text-xs text-slate-300",children:[tr.length," kayıt"]}),(0,s.jsx)("span",{className:"inline-flex items-center rounded-full border border-emerald-400/40 bg-emerald-500/10 px-2 py-0.5 text-xs text-emerald-100",children:y(tY)})]})]}),tg?(0,s.jsx)("p",{className:"rounded-lg border border-rose-400/30 bg-rose-500/10 p-4 text-sm text-rose-100",children:tg}):th?(0,s.jsx)("p",{className:"rounded-lg border border-slate-800 bg-slate-900/70 p-4 text-sm text-slate-300",children:"Masraf kayıtları y\xfckleniyor..."}):0===tr.length?(0,s.jsx)("p",{className:"rounded-lg border border-slate-800 bg-slate-900/70 p-4 text-sm text-slate-300",children:"Hen\xfcz masraf kaydı eklemediniz."}):(0,s.jsx)("div",{className:"space-y-3",children:tr.map(e=>(0,s.jsxs)("article",{className:"rounded-lg border border-slate-800 bg-slate-900/70 p-4 shadow-sm shadow-slate-950/20",children:[(0,s.jsxs)("div",{className:"flex items-center justify-between text-xs text-slate-400",children:[(0,s.jsx)("span",{children:new Date(e.createdAt).toLocaleDateString("tr-TR")}),(0,s.jsx)("span",{className:"inline-flex items-center rounded-full border border-indigo-400/40 bg-indigo-500/20 px-2 py-0.5 text-[10px] font-semibold uppercase tracking-[0.25em] text-indigo-100",children:e.category})]}),(0,s.jsxs)("div",{className:"mt-2 flex items-center justify-between text-sm text-slate-200",children:[(0,s.jsx)("span",{className:"font-semibold text-white",children:e.plate}),(0,s.jsx)("span",{children:y(e.amount)})]}),e.description?(0,s.jsx)("p",{className:"mt-1 text-xs text-slate-300",children:e.description}):null,e.attachments.length>0?(0,s.jsx)("div",{className:"mt-3 flex flex-wrap gap-3",children:e.attachments.map(e=>(0,s.jsxs)("figure",{className:"flex flex-col overflow-hidden rounded-lg border border-slate-800 bg-slate-900/80",children:[e.preview.startsWith("data:application/pdf")?(0,s.jsx)("div",{className:"flex h-24 w-32 items-center justify-center bg-slate-800 text-xs text-slate-200",children:"PDF"}):(0,s.jsx)("img",{src:e.preview,alt:e.name,className:"h-24 w-32 object-cover"}),(0,s.jsx)("figcaption",{className:"truncate px-2 py-1 text-[11px] text-slate-300",children:e.name})]},e.id))}):null]},e.id))})]})]})]}):(0,s.jsxs)("section",{className:"space-y-8",children:[(0,s.jsxs)("header",{className:"flex flex-col gap-3 md:flex-row md:items-center md:justify-between",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("h2",{className:"text-2xl font-semibold text-white",children:"Belge Takip Panosu"}),(0,s.jsx)("p",{className:"text-sm text-slate-400",children:"\xd6n\xfcm\xfczdeki 60 g\xfcn i\xe7inde s\xfcresi dolacak belgeler"})]}),(0,s.jsx)("span",{className:"rounded bg-slate-800 px-3 py-1 text-sm text-slate-300",children:C?"Y\xfckleniyor...":"".concat(N.length," belge")})]}),(0,s.jsxs)("form",{className:"grid gap-4 rounded-2xl border border-slate-800 bg-slate-900/80 p-5 md:grid-cols-2",onSubmit:e=>tD(e,eo,em,ep,eb,()=>ec({vehicleId:"",doc_type:eo.doc_type,valid_from:"",valid_to:"",note:""})),children:[(0,s.jsxs)("div",{className:"md:col-span-2",children:[(0,s.jsx)("h3",{className:"text-lg font-semibold text-white",children:"Belge Ekle"}),(0,s.jsx)("p",{className:"text-xs text-slate-400",children:"Ara\xe7 se\xe7in ve yeni belge kaydı oluşturun."})]}),(0,s.jsxs)("div",{className:"flex flex-col gap-2",children:[(0,s.jsx)("label",{className:"text-xs uppercase tracking-[0.25em] text-slate-400",children:"Ara\xe7"}),(0,s.jsxs)("select",{className:"rounded-lg border border-slate-700 bg-slate-900 px-3 py-2 text-sm text-white focus:border-sky-400 focus:outline-none",value:eo.vehicleId,onChange:e=>ec(t=>({...t,vehicleId:e.target.value})),children:[(0,s.jsx)("option",{value:"",children:"Ara\xe7 se\xe7in"}),R.map(e=>(0,s.jsxs)("option",{value:e.id,children:[e.plate," (",[e.make,e.model].filter(Boolean).join(" ")||"Model belirtilmedi",")"]},e.id))]})]}),(0,s.jsxs)("div",{className:"flex flex-col gap-2",children:[(0,s.jsx)("label",{className:"text-xs uppercase tracking-[0.25em] text-slate-400",children:"Belge T\xfcr\xfc"}),(0,s.jsx)("select",{className:"rounded-lg border border-slate-700 bg-slate-900 px-3 py-2 text-sm text-white focus:border-sky-400 focus:outline-none",value:eo.doc_type,onChange:e=>ec(t=>({...t,doc_type:e.target.value})),children:d.map(e=>(0,s.jsx)("option",{value:e.value,children:e.label},e.value))})]}),(0,s.jsxs)("div",{className:"flex flex-col gap-2",children:[(0,s.jsx)("label",{className:"text-xs uppercase tracking-[0.25em] text-slate-400",children:"Başlangı\xe7 Tarihi"}),(0,s.jsx)("input",{type:"date",className:"rounded-lg border border-slate-700 bg-slate-900 px-3 py-2 text-sm text-white focus:border-sky-400 focus:outline-none",value:eo.valid_from,onChange:e=>ec(t=>({...t,valid_from:e.target.value}))})]}),(0,s.jsxs)("div",{className:"flex flex-col gap-2",children:[(0,s.jsx)("label",{className:"text-xs uppercase tracking-[0.25em] text-slate-400",children:"Bitiş Tarihi"}),(0,s.jsx)("input",{type:"date",className:"rounded-lg border border-slate-700 bg-slate-900 px-3 py-2 text-sm text-white focus:border-sky-400 focus:outline-none",value:eo.valid_to,onChange:e=>ec(t=>({...t,valid_to:e.target.value}))})]}),(0,s.jsxs)("div",{className:"flex flex-col gap-2 md:col-span-2",children:[(0,s.jsx)("label",{className:"text-xs uppercase tracking-[0.25em] text-slate-400",children:"Not"}),(0,s.jsx)("textarea",{className:"min-h-[80px] rounded-lg border border-slate-700 bg-slate-900 px-3 py-2 text-sm text-white focus:border-sky-400 focus:outline-none",placeholder:"İsteğe bağlı a\xe7ıklama",value:eo.note,onChange:e=>ec(t=>({...t,note:e.target.value}))})]}),(0,s.jsxs)("div",{className:"flex flex-col gap-2",children:[(0,s.jsx)("label",{className:"text-xs uppercase tracking-[0.25em] text-slate-400",children:"Y\xf6netici Şifresi"}),(0,s.jsx)("input",{className:"rounded-lg border border-slate-700 bg-slate-900 px-3 py-2 text-sm text-white focus:border-sky-400 focus:outline-none",placeholder:"Y\xf6netici şifresi",type:"password",value:J,onChange:e=>U(e.target.value)})]}),(0,s.jsxs)("div",{className:"flex flex-col justify-end gap-2",children:[eu?(0,s.jsx)("p",{className:"rounded-lg border border-rose-400/30 bg-rose-500/10 px-3 py-2 text-xs text-rose-100",children:eu}):null,eh?(0,s.jsx)("p",{className:"rounded-lg border border-emerald-400/30 bg-emerald-500/10 px-3 py-2 text-xs text-emerald-100",children:eh}):null,(0,s.jsx)("button",{type:"submit",disabled:ex,className:"inline-flex items-center justify-center rounded-lg border border-sky-400/40 bg-sky-500/20 px-4 py-2 text-sm font-medium text-sky-100 transition hover:border-sky-300/70 hover:bg-sky-500/30 disabled:cursor-not-allowed disabled:opacity-60",children:ex?"Kaydediliyor...":"Belge Kaydet"})]})]}),Y?(0,s.jsx)("p",{className:"rounded-lg border border-rose-500/40 bg-rose-900/40 p-4 text-sm text-rose-100",children:Y}):null,(0,s.jsx)("div",{className:"grid gap-5 md:grid-cols-2 xl:grid-cols-3",children:C?(0,s.jsx)("p",{className:"rounded-lg border border-slate-700 bg-slate-800/70 p-4 text-slate-300",children:"Belgeler y\xfckleniyor..."}):0===N.length?(0,s.jsx)("p",{className:"rounded-lg border border-slate-700 bg-slate-800/70 p-4 text-slate-300",children:"\xd6n\xfcm\xfczdeki 60 g\xfcn i\xe7inde s\xfcresi dolacak belge bulunmuyor."}):N.map(e=>{var t,a,l;return(0,s.jsx)("article",{className:"rounded-xl border shadow-lg shadow-slate-900/40 transition hover:-translate-y-1 hover:shadow-slate-800/60 ".concat(b(e.status)),children:(0,s.jsxs)("div",{className:"space-y-2 p-5",children:[(0,s.jsxs)("div",{className:"flex items-center justify-between",children:[(0,s.jsx)("span",{className:"text-sm uppercase tracking-wide text-white/70",children:"Plaka"}),(0,s.jsx)("span",{className:"text-lg font-semibold text-white",children:e.plate})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("span",{className:"text-sm uppercase tracking-wide text-white/70",children:"Belge T\xfcr\xfc"}),(0,s.jsx)("h3",{className:"text-xl font-semibold capitalize text-white",children:c(e.doc_type)})]}),e.valid_from?(0,s.jsxs)("div",{className:"flex items-center justify-between text-xs text-white/70",children:[(0,s.jsx)("span",{children:"Ge\xe7erlilik Başlangıcı"}),(0,s.jsx)("span",{children:new Date(e.valid_from).toLocaleDateString("tr-TR")})]}):null,(0,s.jsxs)("div",{className:"flex items-center justify-between text-sm text-white/80",children:[(0,s.jsx)("span",{children:"Bitiş Tarihi"}),(0,s.jsx)("span",{children:new Date(e.valid_to).toLocaleDateString("tr-TR")})]}),(0,s.jsxs)("div",{className:"flex items-center justify-between text-sm font-medium text-white",children:[(0,s.jsx)("span",{children:"Kalan G\xfcn"}),(0,s.jsx)("span",{children:null!==(t=e.days_left)&&void 0!==t?t:"-"})]}),e.note?(0,s.jsxs)("p",{className:"text-xs text-white/70",children:["Not: ",e.note]}):null,(0,s.jsxs)("div",{className:"text-xs text-white/70",children:["Sorumlu: ",null!==(a=e.responsible_email)&&void 0!==a?a:"Tanımlı değil"]})]})},null!==(l=e.id)&&void 0!==l?l:e.doc_id)})})]})})()]})}},6264:function(e,t,a){"use strict";a.d(t,{J:function(){return l}});let s=(a(357).env.NEXT_PUBLIC_API_URL||"").replace(/\/$/,""),l=e=>"".concat(s).concat(e.startsWith("/")?e:"/".concat(e))}},function(e){e.O(0,[349,971,23,744],function(){return e(e.s=4561)}),_N_E=e.O()}]);